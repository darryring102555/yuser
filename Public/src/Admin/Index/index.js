define(["jquery","template","common","layer","validate","boot_time_cn"],function(j,artTemplate,f,layer,b){function init(){for(var a in bind)bind[a]()}var bind={};return f.dele(".table input","change",function(){var f,a=$(this),b=a.parents("tr").find(".count"),c=a.parents("div").find(".total"),d=Math.round(100*Number(c.html()));Number(b.html()),f=100*Number(a.parents("td").next().html()),c.html((d-(Number(a.attr("data-dfv"))-Number(a.val()))*f)/100),a.attr("data-dfv",a.val()),b.html(Number(a.val())*f/100)}),f.dele(".table button","click",function(){var a=$(this),b=a.parents("tr").find(".count"),c=Number(b.html());a.parents("tr").remove(),$(".total").html(Math.round(100*Number($(".total").html())-100*c)/100)}),f.dele("table .form-control","blur",function(){$(this).val()||$(this).val("0")}),f.onclick(".btn-primary",function(){var a={price:3.88,quantity:10,title:"iphone"},b=artTemplate("list",a);$(".total").html(Math.round(100*Number($(".total").html())+100*a.price*a.quantity)/100),$(b).appendTo(".table")}),f.onclick(".btn-info",function(){var time=new Date,$this=this,index=layer.load(2,{time:1e4});f.ajax(f.U("index"),function(data){layer.close(index),eval("window."+TS.config.data_var+" = data"),requirejs(["model","contoller"],function(a,b){a.init(),b.init()})},$this,null,"post")},1),f.onclick(".btn-warning",function(){var a=new Date,b=this;f.ajax("http://data.test.com/index.php/Admin/Index/index.html?time="+a.getTime(),function(a){dumps(a)},b,null,"post")},1),f.onclick(".dialog",function(){f.dialog({title:"可以弹窗了",content:"<h1>弹窗成功:</h1>点击其它不消失",shade:1})}),f.onclick(".dialog1",function(){f.dialog({title:"可以弹窗了",content:"<h1>弹窗成功:</h1>点击其它消失"})}),f.onclick(".alt",function(){f.alt({status:"danger",statusTitle:"警告",content:"不准点"})}),f.onclick(".alt1",function(){f.alt({status:"info",statusTitle:"警告",content:"不准点",close:1})}),$(".layer1").click(function(){layer.tips("默认就是向右的",".layer2")}),f.onclick(".layer2",function(){layer.tips("左边么么哒",".layer2",{tips:[4,"#78BA32"]})}),bind.time=function(){j(".ts_time").datetimepicker({minView:2})},{init:init}});