define(["jquery","validate_cn","layer","common","icheck"],function(a,b,c,d){function f(){for(var a in e)e[a]()}var e={};return e.icheck=function(){a('.ts-icheck[type="radio"]').iCheck({checkboxClass:"icheckbox_flat-red",radioClass:"iradio_flat-red"}),a('.ts-icheck[type="checkbox"]').iCheck({checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})},e.verify=function(){a(".login-form").validate({rules:{uname:{required:!0},password:{required:!0,rangelength:[6,18]},verify:{required:!0,rangelength:[4,4]}},messages:{uname:{required:"请输入用户名"},password:{required:"必须输入密码",rangelength:"输入密码不正确"},verify:{required:"请输入验证码",rangelength:"验证码长度不符"}},errorPlacement:function(a,b){layer.tips(a.html(),b.parent(),{tipsMore:!0})}})},d.onclick('form [type="submit"]:button',function(){var a=this.parents("form");a.valid()?this.ajax(a.attr("action"),function(a){0===a.code?window.location.href=U("Index/index"):d.alt(a)},a.serialize(),"post"):this.data("click",0)}),{init:f}});